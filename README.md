# è‚¡ç¥¨æ•°æ®å¯è§†åŒ–ç³»ç»Ÿ

ä¸€ä¸ªå®Œæ•´çš„è‚¡ç¥¨ç«ä»·æ•°æ®å¯è§†åŒ–ç³»ç»Ÿï¼Œæ”¯æŒå®æ—¶æ•°æ®å±•ç¤ºå’Œå†å²æ•°æ®å›æ”¾åŠŸèƒ½ã€‚

## âš ï¸ å®‰å…¨æé†’

**åœ¨æ¨é€åˆ°Gitä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š**
- å·²åˆ›å»º `.gitignore` æ–‡ä»¶å¹¶æ­£ç¡®é…ç½®
- æ•æ„Ÿæ–‡ä»¶ï¼ˆå¦‚ `password.json`ï¼‰å·²è¢«æ’é™¤
- API Tokenç­‰æ•æ„Ÿä¿¡æ¯å·²ç§»è‡³ç¯å¢ƒå˜é‡
- æ•°æ®åº“æ–‡ä»¶ä¸ä¼šè¢«æäº¤
- è™šæ‹Ÿç¯å¢ƒå’Œæ„å»ºæ–‡ä»¶å·²è¢«æ’é™¤

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å®‰å…¨ç™»å½•**: éšæœºå¯†ç ç”Ÿæˆï¼Œæ”¯æŒä¼šè¯æŒä¹…åŒ–
- ğŸ“Š **å®æ—¶æ•°æ®**: 9:15-9:25æœŸé—´è‡ªåŠ¨è·å–å®æ—¶ç«ä»·æ•°æ®
- ğŸ“ˆ **åŠ¨æ€å›¾è¡¨**: å‰20åè‚¡ç¥¨å°å•é¢åŠ¨æ€æ’åå±•ç¤º
- ğŸ¬ **å†å²å›æ”¾**: æ”¯æŒå†å²æ•°æ®æ—¶é—´è½´æ’­æ”¾å’Œæ‰‹åŠ¨æ§åˆ¶
- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸŒ **LANè®¿é—®**: æ”¯æŒå±€åŸŸç½‘è®¿é—®

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18 + TypeScript
- react-flip-toolkit (åŠ¨ç”»æ•ˆæœ)
- js-sha256 (å¯†ç åŠ å¯†)
- å“åº”å¼è®¾è®¡

### åç«¯
- Python Flask
- Pandas (æ•°æ®å¤„ç†)
- Gunicorn (ç”Ÿäº§æœåŠ¡å™¨)
- SQLite (æ•°æ®å­˜å‚¨)

## å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚
- Python 3.8+
- Node.js 16+
- npm æˆ– yarn

### Gitæ¨é€å®‰å…¨æ£€æŸ¥

åœ¨æ¨é€åˆ°Gitä¹‹å‰ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ç¡®ä¿å®‰å…¨ï¼š

```bash
# æ£€æŸ¥æ•æ„Ÿæ–‡ä»¶æ˜¯å¦è¢«æ­£ç¡®æ’é™¤
git status

# æ£€æŸ¥æ˜¯å¦æœ‰æ•æ„Ÿä¿¡æ¯æ³„éœ²
grep -r "password\|token\|secret\|key" . --exclude-dir=node_modules --exclude-dir=venv --exclude-dir=__pycache__

# ç¡®ä¿.gitignoreæ–‡ä»¶å­˜åœ¨
ls -la .gitignore
```

**é‡è¦æé†’ï¼š**
- `password.json` æ–‡ä»¶åŒ…å«å®é™…å¯†ç ï¼Œä¸åº”æäº¤åˆ°Git
- API Tokenå·²ç§»è‡³ç¯å¢ƒå˜é‡ï¼Œä½†è¯·ç¡®ä¿ `.env` æ–‡ä»¶ä¸è¢«æäº¤
- æ•°æ®åº“æ–‡ä»¶ï¼ˆ`*.db`ï¼‰ä¸åº”æäº¤
- è™šæ‹Ÿç¯å¢ƒç›®å½•ï¼ˆ`venv/`ï¼‰ä¸åº”æäº¤

### ä¸€é”®éƒ¨ç½²

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd stock_data_project
```

2. **è¿è¡Œéƒ¨ç½²è„šæœ¬**
```bash
chmod +x deploy.sh
./deploy.sh
```

3. **å¯åŠ¨æœåŠ¡**
```bash
./start.sh
```

4. **è®¿é—®åº”ç”¨**
- åœ°å€: http://localhost:5000
- å¯†ç : éƒ¨ç½²æ—¶è‡ªåŠ¨ç”Ÿæˆå¹¶æ˜¾ç¤ºåœ¨æ§åˆ¶å°

### Dockeréƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

## é¡¹ç›®ç»“æ„

```
stock_data_project/
â”œâ”€â”€ backend_api/              # åç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ copy_bidding/         # CSVæ•°æ®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ venv/                # Pythonè™šæ‹Ÿç¯å¢ƒ
â”‚   â”œâ”€â”€ password.json        # éšæœºç”Ÿæˆçš„å¯†ç æ–‡ä»¶
â”‚   â”œâ”€â”€ password_generator.py # å¯†ç ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ bidding_api.py       # ä¸»APIæ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt     # Pythonä¾èµ–
â”‚   â””â”€â”€ gunicorn.conf.py     # Gunicorné…ç½®
â”œâ”€â”€ frontend/                # å‰ç«¯Reactåº”ç”¨
â”‚   â”œâ”€â”€ build/               # ç”Ÿäº§æ„å»ºæ–‡ä»¶
â”‚   â”œâ”€â”€ src/                 # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/      # Reactç»„ä»¶
â”‚   â”‚   â””â”€â”€ App.tsx         # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ package.json        # Node.jsä¾èµ–
â”œâ”€â”€ deploy.sh               # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ start.sh                # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop.sh                 # åœæ­¢è„šæœ¬
â”œâ”€â”€ show_password.sh        # å¯†ç æŸ¥çœ‹è„šæœ¬
â”œâ”€â”€ Dockerfile              # Dockeré…ç½®
â””â”€â”€ docker-compose.yml      # Docker Composeé…ç½®
```

## APIæ¥å£

### å®æ—¶æ•°æ®
- `GET /api/realtime_limit` - è·å–å®æ—¶ç«ä»·æ•°æ®

### å†å²æ•°æ®
- `GET /api/bidding?date=2025-07-18&start=091500&end=092500` - è·å–å†å²æ•°æ®

### å¯†ç ç®¡ç†
- `GET /api/password` - è·å–å½“å‰å¯†ç ä¿¡æ¯
- `GET /api/password_hash` - è·å–å¯†ç å“ˆå¸Œå€¼

### å¥åº·æ£€æŸ¥
- `GET /api/health` - æœåŠ¡å¥åº·çŠ¶æ€

## å¯†ç ç³»ç»Ÿ

### éšæœºå¯†ç ç”Ÿæˆ
- æ¯æ¬¡éƒ¨ç½²æ—¶è‡ªåŠ¨ç”Ÿæˆ8ä½éšæœºå¯†ç 
- å¯†ç åŒ…å«å­—æ¯å’Œæ•°å­—
- å¯†ç å“ˆå¸Œå€¼ç”¨äºå‰ç«¯éªŒè¯
- å¯†ç ä¿¡æ¯ä¿å­˜åœ¨ `backend_api/password.json` æ–‡ä»¶ä¸­

### å¯†ç ç®¡ç†å‘½ä»¤
```bash
# æŸ¥çœ‹å½“å‰å¯†ç 
./show_password.sh

# é‡æ–°ç”Ÿæˆå¯†ç 
cd stock_data_project/backend_api
python3 password_generator.py
```

## æ•°æ®æ ¼å¼

CSVæ–‡ä»¶åº”åŒ…å«ä»¥ä¸‹åˆ—ï¼š
1. `code` - è‚¡ç¥¨ä»£ç 
2. `name` - è‚¡ç¥¨åç§°
3. `ç°ä»·` - å½“å‰ä»·æ ¼
4. `æ¶¨å¹…` - æ¶¨è·Œå¹…
5. `æ¶¨åœå°å•é¢` - å°å•é‡‘é¢
6. `å¼€ç›˜æ¶¨å¹…` - å¼€ç›˜æ¶¨è·Œå¹…
7. `ç«ä»·å‡€é¢` - ç«ä»·å‡€é¢
8. `ç«ä»·æ¢æ‰‹` - ç«ä»·æ¢æ‰‹ç‡
9. `ç«ä»·æˆäº¤é¢` - ç«ä»·æˆäº¤é¢
10. `æœªçŸ¥` - æœªçŸ¥å­—æ®µ
11. `å¼€ç›˜é‡‘é¢` - å¼€ç›˜é‡‘é¢
12. `æ¿å—` - æ‰€å±æ¿å—

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
- `FLASK_ENV` - Flaskç¯å¢ƒ (development/production)
- `PORT` - æœåŠ¡ç«¯å£ (é»˜è®¤5000)

### å‰ç«¯é…ç½®
- ç”Ÿäº§ç¯å¢ƒAPIåœ°å€è‡ªåŠ¨é€‚é…
- æ”¯æŒä»£ç†é…ç½®é¿å…CORSé—®é¢˜
- åŠ¨æ€å¯†ç éªŒè¯

### åç«¯é…ç½®
- Gunicornå¤šè¿›ç¨‹é…ç½®
- è‡ªåŠ¨CORSå¤„ç†
- é”™è¯¯æ—¥å¿—è®°å½•
- éšæœºå¯†ç ç”Ÿæˆ

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

1. **å¯åŠ¨åç«¯**
```bash
cd backend_api
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python bidding_api.py
```

2. **å¯åŠ¨å‰ç«¯**
```bash
cd frontend
npm install
npm start
```

### ç”Ÿäº§éƒ¨ç½²

1. **æ„å»ºå‰ç«¯**
```bash
cd frontend
npm run build:prod
```

2. **å¯åŠ¨åç«¯**
```bash
cd backend_api
gunicorn -c gunicorn.conf.py bidding_api:app
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -i :5000
# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

2. **æ•°æ®æ–‡ä»¶ä¸å­˜åœ¨**
- ç¡®ä¿CSVæ–‡ä»¶æ”¾åœ¨ `backend_api/copy_bidding/` ç›®å½•ä¸‹
- æ–‡ä»¶åæ ¼å¼: `bidding_YYYY-MM-DD_HHMM_limit.csv`

3. **å‰ç«¯æ„å»ºå¤±è´¥**
```bash
# æ¸…ç†ç¼“å­˜
rm -rf node_modules package-lock.json
npm install
```

4. **Pythonä¾èµ–é—®é¢˜**
```bash
# é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

5. **å¯†ç é—®é¢˜**
```bash
# é‡æ–°ç”Ÿæˆå¯†ç 
cd backend_api
python3 password_generator.py
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f backend_api/logs/app.log

# æŸ¥çœ‹Dockeræ—¥å¿—
docker-compose logs -f
```

## å®‰å…¨è¯´æ˜

- å¯†ç ä½¿ç”¨SHA256å“ˆå¸Œå­˜å‚¨
- å‰ç«¯ä¸ç›´æ¥è·å–æ˜æ–‡å¯†ç 
- å¯†ç æ–‡ä»¶ä»…ç”¨äºéƒ¨ç½²æ—¶æ˜¾ç¤º
- æ”¯æŒä¼šè¯è¿‡æœŸæœºåˆ¶

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## æ›´æ–°æ—¥å¿—

### v1.1.0
- æ·»åŠ éšæœºå¯†ç ç”ŸæˆåŠŸèƒ½
- æ¯æ¬¡éƒ¨ç½²è‡ªåŠ¨ç”Ÿæˆæ–°å¯†ç 
- å¯†ç ä¿¡æ¯æ˜¾ç¤ºåœ¨æ§åˆ¶å°
- å¢å¼ºå®‰å…¨æ€§

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒå®æ—¶å’Œå†å²æ•°æ®å±•ç¤º
- æ·»åŠ ç™»å½•éªŒè¯å’Œè§†é¢‘å½•åˆ¶åŠŸèƒ½
- å®Œæˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²é…ç½® 